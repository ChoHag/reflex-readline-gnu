#!/usr/bin/perl

use 5.14.0;
use lib qw(lib);
use MooseX::Declare;

class App {
  extends 'Reflexive::ReadLine::Gnu';

  method on_line ($line) {
    $self->hide;
    say 'got ', $line->line;
    $self->show;
  }
  
  method on_eof {
    $self->hide;
    say '-eof-';
    $self->show;
  }
}

my $x = new App;
Reflex->run_all;
